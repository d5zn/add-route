# üöÄ Quick Start: Clubs & Templates Synchronization

## –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ ‚úÖ

ID –∫–ª—É–±–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤ —Ç–µ–ø–µ—Ä—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é.

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –î–æ
- **–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `hedonism`, `not-in-paris`
- **–ê–¥–º–∏–Ω–∫–∞**: `club-hc`, `club-nip`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –®–∞–±–ª–æ–Ω—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å ‚ùå

### –ü–æ—Å–ª–µ
- **–û–±–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: `hedonism`, `not-in-paris`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è ‚úÖ

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–ª—É–±—ã –≤ –ë–î

**–í–∞—Ä–∏–∞–Ω—Ç A: Python —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
python3 init_clubs.py
```

**–í–∞—Ä–∏–∞–Ω—Ç B: SQL —Å–∫—Ä–∏–ø—Ç**
```bash
psql $DATABASE_URL -f db/schemas/04_init_clubs.sql
```

### 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

```bash
cd admin
npm install  # –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
npm run build
cd ..
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

#### –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/route/`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Strava
3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª—É–± (HEDONISM –∏–ª–∏ NOT IN PARIS)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —à–∞–±–ª–æ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

#### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/route/admin`
2. –í–æ–π–¥–∏—Ç–µ (admin / 54321)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—É–±—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
4. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω
5. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –µ–≥–æ (status = "published")
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω –≤–∏–¥–µ–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## –§–∞–π–ª—ã

### –ò–∑–º–µ–Ω–µ–Ω–æ
- `admin/src/data/mockClubs.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã ID –∏ –∏–º–µ–Ω–∞ –∫–ª—É–±–æ–≤
- `server.py` - —É–±—Ä–∞–Ω –º–∞–ø–ø–∏–Ω–≥ ID –∫–ª—É–±–æ–≤

### –°–æ–∑–¥–∞–Ω–æ
- `init_clubs.py` - —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª—É–±–æ–≤
- `db/schemas/04_init_clubs.sql` - SQL —Å—Ö–µ–º–∞ –¥–ª—è –∫–ª—É–±–æ–≤
- `docs/CLUBS_SYNC.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/SYNC_CHANGES.md` - —Å–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `docs/API_ENDPOINTS.md` - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—É–±—ã –≤ –ë–î
```bash
psql $DATABASE_URL -c "SELECT id, name, status FROM clubs;"
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
      id       |     name      | status 
---------------+---------------+--------
 hedonism      | HEDONISM      | active
 not-in-paris  | NOT IN PARIS  | active
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
```bash
# –ö–ª—É–±—ã (–∞–¥–º–∏–Ω API)
curl 'http://localhost:8000/route/admin/api/clubs'

# –®–∞–±–ª–æ–Ω—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl 'http://localhost:8000/api/templates?clubId=hedonism'
```

## –°—Ç–∞—Ç—É—Å—ã —à–∞–±–ª–æ–Ω–æ–≤

| –°—Ç–∞—Ç—É—Å | –ê–¥–º–∏–Ω–∫–∞ | –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |
|--------|---------|---------------------|
| draft | ‚úÖ –≤–∏–¥–µ–Ω | ‚ùå –Ω–µ –≤–∏–¥–µ–Ω |
| published | ‚úÖ –≤–∏–¥–µ–Ω | ‚úÖ –≤–∏–¥–µ–Ω |
| archived | ‚úÖ –≤–∏–¥–µ–Ω | ‚ùå –Ω–µ –≤–∏–¥–µ–Ω |
| deleted | ‚ùå –Ω–µ –≤–∏–¥–µ–Ω | ‚ùå –Ω–µ –≤–∏–¥–µ–Ω |

## Troubleshooting

### –ö–ª—É–±—ã –Ω–µ –≤–∏–¥–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î
psql $DATABASE_URL -c "SELECT * FROM clubs WHERE status='active';"

# –ï—Å–ª–∏ –ø—É—Å—Ç–æ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ
python3 init_clubs.py
```

### –®–∞–±–ª–æ–Ω—ã –Ω–µ –≤–∏–¥–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
SELECT id, name, club_id, status FROM templates WHERE club_id='hedonism';

-- –û–ø—É–±–ª–∏–∫—É–π—Ç–µ —à–∞–±–ª–æ–Ω
UPDATE templates SET status='published' WHERE id='your-template-id';
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —à–∞–±–ª–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω (–∫–Ω–æ–ø–∫–∞ "Save")
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —à–∞–±–ª–æ–Ω–∞ = "published"
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Ctrl+R)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- [docs/CLUBS_SYNC.md](docs/CLUBS_SYNC.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- [docs/SYNC_CHANGES.md](docs/SYNC_CHANGES.md) - –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [docs/API_ENDPOINTS.md](docs/API_ENDPOINTS.md) - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API
- [docs/REFACTORING_2024-11-14.md](docs/REFACTORING_2024-11-14.md) - –û—Ç—á–µ—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –≤ –ë–î —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ ID:

```sql
-- 1. –°–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø
-- pg_dump $DATABASE_URL > backup.sql

-- 2. –û–±–Ω–æ–≤–∏—Ç—å ID –∫–ª—É–±–æ–≤
UPDATE clubs SET id = 'hedonism' WHERE id = 'club-hc';
UPDATE clubs SET id = 'not-in-paris' WHERE id = 'club-nip';

-- 3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –≤ —à–∞–±–ª–æ–Ω–∞—Ö
UPDATE templates SET club_id = 'hedonism' WHERE club_id = 'club-hc';
UPDATE templates SET club_id = 'not-in-paris' WHERE club_id = 'club-nip';

-- 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
SELECT id, name FROM clubs;
SELECT id, club_id, name FROM templates;
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `python3 server.py`
2. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞: DevTools ‚Üí Console
3. –°–µ—Ç—å: DevTools ‚Üí Network ‚Üí XHR
4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: `psql $DATABASE_URL`

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–î–∞—Ç–∞**: 14 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.0

