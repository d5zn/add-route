# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —à–∞–±–ª–æ–Ω–æ–≤

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å:

**–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 3 —à–∞–±–ª–æ–Ω–∞ –¥–ª—è NOT IN PARIS:
  1. Classic Route
  2. Mono Cut  
  3. Sunset Fade

**–ê–¥–º–∏–Ω–∫–∞** (–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 1 published –∏ 2 draft
- –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –¥—Ä—É–≥–∏–µ —à–∞–±–ª–æ–Ω—ã

### üéØ –ü—Ä–∏—á–∏–Ω–∞

–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ö–∞—Ä–¥–∫–æ–¥ —Ñ–æ–ª–±—ç–∫-—à–∞–±–ª–æ–Ω—ã** –∏–∑ —Ñ–∞–π–ª–∞ `app-addicted-logic.js`:

```javascript
// –°—Ç—Ä–æ–∫–∏ 104-137
getTemplateDefinitions() {
    return {
        'not-in-paris': [
            { id: 'nip-classic', name: 'Classic Route', ... },
            { id: 'nip-mono', name: 'Mono Cut', ... },
            { id: 'nip-gradient', name: 'Sunset Fade', ... }
        ]
    }
}
```

–≠—Ç–∏ —à–∞–±–ª–æ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞:
- API –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã –∏–∑ –ë–î
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

–ê–¥–º–∏–Ω–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ PostgreSQL**.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–Ø —Å–æ–∑–¥–∞–ª —Å–∫—Ä–∏–ø—Ç `sync_fallback_templates.py`, –∫–æ—Ç–æ—Ä—ã–π:

1. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ–æ–ª–±—ç–∫-—à–∞–±–ª–æ–Ω—ã –≤ –ë–î**
   - –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `templates`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ ID, —á—Ç–æ –≤ –∫–æ–¥–µ
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `published`

2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ**
   - –ï—Å–ª–∏ —à–∞–±–ª–æ–Ω —É–∂–µ –µ—Å—Ç—å, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `published`
   - –ï—Å–ª–∏ —à–∞–±–ª–æ–Ω–∞ –Ω–µ—Ç, —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü (background, layers)

3. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É**
   - –°–∫–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–∑–¥–∞–Ω–æ
   - –°–∫–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ
   - –ò—Ç–æ–≥–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (Railway):

```bash
# –í Terminal –ø—Ä–æ–µ–∫—Ç–∞ Railway:
python3 sync_fallback_templates.py
```

### –õ–æ–∫–∞–ª—å–Ω–æ:

```bash
# 1. –ü–æ–ª—É—á–∏—Ç–µ DATABASE_URL –∏–∑ Railway Dashboard:
#    Settings ‚Üí Variables ‚Üí DATABASE_URL

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
export DATABASE_URL="postgresql://..."

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
python3 sync_fallback_templates.py
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```
üöÄ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–æ–ª–±—ç–∫-—à–∞–±–ª–æ–Ω–æ–≤...

‚úÖ Connected to database

üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–æ–ª–±—ç–∫-—à–∞–±–ª–æ–Ω–æ–≤ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö...

üìÅ –ö–ª—É–±: not-in-paris
  ‚úÖ –°–æ–∑–¥–∞–Ω: Classic Route (id: nip-classic, v1)
  ‚úÖ –°–æ–∑–¥–∞–Ω: Mono Cut (id: nip-mono, v1)
  ‚úÖ –°–æ–∑–¥–∞–Ω: Sunset Fade (id: nip-gradient, v1)

================================================================================
üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

not-in-paris:
  –í—Å–µ–≥–æ: 3 | Published: 3 | Draft: 0
  ‚úÖ Classic Route                | published  | v1
  ‚úÖ Mono Cut                     | published  | v1
  ‚úÖ Sunset Fade                  | published  | v1

================================================================================

‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

üí° –¢–µ–ø–µ—Ä—å:
   1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (/route/)
   2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–¥–º–∏–Ω–∫–∏ (/route/admin)
   3. –®–∞–±–ª–æ–Ω—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –≤ –æ–±–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
```

## üîÑ –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   - URL: `https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/route/`
   - –ù–∞–∂–º–∏—Ç–µ Ctrl+Shift+R (hard refresh)
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Strava
   - –í—ã–±–µ—Ä–∏—Ç–µ NOT IN PARIS
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã 3 —à–∞–±–ª–æ–Ω–∞: Classic Route, Mono Cut, Sunset Fade

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É**
   - URL: `https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/route/admin`
   - –í–æ–π–¥–∏—Ç–µ (admin / –≤–∞—à_–ø–∞—Ä–æ–ª—å)
   - –í—ã–±–µ—Ä–∏—Ç–µ NOT IN PARIS
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —Ç–µ –∂–µ 3 —à–∞–±–ª–æ–Ω–∞
   - –í—Å–µ –≤ —Å—Ç–∞—Ç—É—Å–µ "–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω"

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API**
   ```bash
   curl "https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/api/templates?clubId=not-in-paris"
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å 3 —à–∞–±–ª–æ–Ω–∞–º–∏.

## üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î:

```bash
python3 check_templates.py
```

–ü–æ–∫–∞–∂–µ—Ç:
- –í—Å–µ –∫–ª—É–±—ã
- –í—Å–µ —à–∞–±–ª–æ–Ω—ã (—Å ID –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏)
- Published —à–∞–±–ª–æ–Ω—ã (—Ç–æ, —á—Ç–æ –≤–∏–¥—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º

### SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:

```sql
-- –í—Å–µ —à–∞–±–ª–æ–Ω—ã NOT IN PARIS
SELECT id, name, status, version
FROM templates
WHERE club_id = 'not-in-paris' AND status != 'deleted';

-- –¢–æ–ª—å–∫–æ published (—Ç–æ, —á—Ç–æ –≤–∏–¥–∏—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
SELECT id, name, version
FROM templates  
WHERE club_id = 'not-in-paris' AND status = 'published';

-- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Ä—É—á–Ω—É—é
UPDATE templates
SET status = 'published', updated_at = CURRENT_TIMESTAMP
WHERE id = 'nip-classic';
```

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–µ —É–¥–∞–ª—è–π—Ç–µ —Ñ–æ–ª–±—ç–∫-—à–∞–±–ª–æ–Ω—ã –∏–∑ –∫–æ–¥–∞**
   - –û–Ω–∏ –Ω—É–∂–Ω—ã –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
   - –ï—Å–ª–∏ –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ —É–≤–∏–¥—è—Ç —à–∞–±–ª–æ–Ω—ã

2. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É**
   - –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (status = published)
   - –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –∞–¥–º–∏–Ω–∫–µ

3. **ID —à–∞–±–ª–æ–Ω–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏**
   - –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —à–∞–±–ª–æ–Ω—ã —Å ID: nip-classic, nip-mono, nip-gradient
   - –≠—Ç–∏ ID –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ñ–æ–ª–±—ç–∫–æ–≤

4. **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞–¥–º–∏–Ω–∫–µ**
   - –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - React Query –∫–µ—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ 5 –º–∏–Ω—É—Ç

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `QUICK_FIX_TEMPLATES.md` - –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `docs/TEMPLATE_SYNC_FIX.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/CLUBS_SYNC.md` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª—É–±–æ–≤
- `docs/SYNC_CHANGES.md` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∏–ª–∞—Å—å:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:
   ```bash
   # Railway Dashboard ‚Üí Deployments ‚Üí View Logs
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab (F12 ‚Üí Network ‚Üí XHR):
   - –ó–∞–ø—Ä–æ—Å –∫ `/api/templates?clubId=not-in-paris`
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK —Å –º–∞—Å—Å–∏–≤–æ–º —à–∞–±–ª–æ–Ω–æ–≤

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL:
   ```bash
   railway variables | grep DATABASE_URL
   ```


